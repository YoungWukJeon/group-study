## 검색 시스템의 구성 요소

#### 수집기
    - 필요한 정보를 수집하는 프로그램
#### 스토리지
    - 수집된 데이터가 저장되는 물리적인 저장소
#### 색인기
    - 수집된 데이터를 검색 가능한 구조로 가공하고 저장하는 프로그램
    - 역색인 구조로 저장
#### 검색기
    - 역색인 구조로 저장된 데이터에서 검색순위 알고리즘을 기반으로 검색하는 프로그램

## 관계형 데이터베이스와의 차이점

- 데이터베이스에서는 불가능한 비정형 데이터를 색인하고 검색할 수 있다.
- 형태소 분석기를 통해서 사람이 구사하는 자연어의 처리가 가능해지고 역색인 구조를 바탕으로 빠른 검색속도를 보장

#### elastic-search => rdb
#### index => database
#### shard => partition
#### type => table
#### document => row
#### field => column
#### mapping => schema
#### query dsl => sql

- 대소문자 구분없이 유연한 검색이 가능하다.
    - ex) GARMADON = garmandon, Garmandon, gARMADON 모두 검색 가능

## 엘라스틱 서치 장점

#### 오픈소스 검색엔진
    - 루씬 기반으로 개발된 오픈소스 검색엔진. Java 기반

#### 전문 검색
    - NoSQL은 단순한 텍스트 검색 기능
    - ES는 문서 전체를 색인하기 때문에 특정 단어가 포함된 문서를 검색 가능

#### 통계 분석
    - 키바나 연동

#### 스키마리스
    - 정형화되지 않은 다양한 형태의 문서도 검색 가능
    - 인덱스가 존재하지 않으면 자동으로 생성(기본값)

#### RESTful API
    - RESTful API 형태로 제공되기도 하고 응답도 JSON 형식이기 때문에 이기종 플랫폼에서 이용 가능

#### 멀티테넌시(Multi-tenancy)
    - 서로 다른 인덱스라도 필드명만 같으면 여러 개의 인덱스를 한번에 조회 가능

#### Document-Oriented
    - JSON 형태로 데이터를 저장하기 때문에 계층 구조로된 데이터도 쉽게 조회 가능

#### 역색인(Inverted Index)
    - 단어만 찾으면 단어가 포함된 문서의 위치를 알 수 있기 때문에 빠르게 찾을 수 있다.
    - ex) 단어      문서 번호
          검색엔진  1, 2
          역색인    2, 3

#### 확장성과 가용성
    - 분산 환경에서 데이터는 샤드(Shard)라는 작은 단위로 나뉘어 제공되며, 인덱스를 만들 때마다 샤드의 수를 조절할 수 있다.
    - Scale out

## 엘라스틱 서치의 약점

#### Real-time이 아니다.
    - 내부적으로 커밋(commit)과 플러시(flush) 같은 복잡한 과정을 거치기 때문에 엄밀히 실시간은 아니다.

#### 트랜잭션과 롤백 기능을 제공하지 않는다.

#### 데이터 업데이트를 제공하지 않는다.
    - 기존 데이터를 삭제 후 재생성
    - 데이터의 불변성이라는 이점을 취할 수는 있다.